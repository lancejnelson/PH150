---
jupyter: python3
---

# Physics 150 

# Lab 1: Introduction to Error Analysis/ Propagation of Uncertainty Part I



Name: 


## Skills
After this lab you should be able to:
1. take measurements and assign uncertainties.
2. use Python to perform simple calculations and plotting, including error bars.
3. propagate uncertainties for simple calcluations.
4. know the difference between (and be able to calculate) uncertainty and fractional uncertainty.

## Background Information

### Uncertainties in Measurements
No matter the branch of science you find yourself in, taking
measurements will be at the heart of any experiment you do. Measuring
involves the use of a measuring device of some sort, such as a ruler,
balance, microphone, voltmeter, or any other sensor.  When measuring a
physical property of an object, we assume that there is a unique
"correct" value for this measurement.  The problem is that we can
 never measure this “correct" value because no instrument is perfectly 
 precise. We have to make do with the goal of getting as close as we 
 can to the “correct" value.

 There are several factors that affect your ability to measure something:
1. Measurement Instrument Choice 
2. Measurement Calibration 
3. Repeatability 
4. Quantization Error
 



### Analog Measurements
All measuring devices fall into one of two categories: analog and
digital.  Analog devices usually have a set of tick marks and a scale
printed on them.  Meter sticks, spring scales, calipers, multimeters
(comes in both analog and digital) are all examples of analog
devices.  Digital devices display the measurement on an electronic
display.  Both types of devices have uncertainty associated with them.

Consider the example shown in figure below where we use
a meter stick to measure the length of a rod.  If you look close,
you'll notice that the end of the rod falls between the tick marks on
the meter stick. Such will almost always be the case. If you were to look
really close, you'd notice that the tick marks themselves have finite
width.  Therefore, even if the end of the rod landed on a tick mark,
you still wouldn't know which part of the tick mark it was.  Every
instrument is limited to some degree in this way.

![Meter Stick](https://lancejnelson.github.io/PH150/figures/measurement.png){width=160%}

So we can never really know the true length of the rod, or the true
value of any other measurement.  The best we can do is to provide a
range of values that we are sure will include the true value.  In this example, a range
of $(97.6-97.7)$ would certainly include the correct value, but this
range is probably too broad.  On the other hand, choosing a range of
$(97.64-97.66)$ might be too small so as to not actually include the
true value.  The correct length is probably $97.65$ with
a certainty range of $(97.62-97.68)$.  Another way to say that is to
report 
$$l = 97.65 \pm .03 \mathrm{~~cm}$$

In this case, $97.65$ cm is the measured value and $.03$ cm is the
uncertainty associated with it.  ***Uncertainties are always rounded to
one significant figure and the measured value is rounded to the same
decimal place as the uncertainty***. It is critical in experimental
science that every measurement is reported with an uncertainty value.
The number alone is useless without knowing the possible range of
values that it falls within.


### Digital Measurements
Measurements made from digital devices will carry uncertainty too.
This uncertainty arises because the device must round the measurement
so that it fits on the digital readout.  Uncertainty
arises since you can never know what the next digit would have been.
For example, suppose that you measure the mass of an object
on a digital scale and it reads $10.55$ kg.  The actual value of the
measurement could have been as low as $10.545$ kg or as high as
$10.555$ kg. Anything in that range would have rounded to $10.55$ kg.
Hence, the uncertainty on this measurement is $\pm 0.005$
kg.  This measurement would be reported as $10.55 \pm .005$ kg.  In
general, the uncertainty of a digital measurement is half of the value of the
last decimal place shown.

### Significant Figures

At this point, you may be wondering about all of those numbers in your
Physics textbook that are given to you without any $\pm$ value
attached to them.  In the absense of an explicitly-stated uncertainty,
it is generally assumed that the uncertainty is $\pm 1$ on the digit
that is one beyond the least signficant digit. For example, if your
homework problem states that a car was traveling with speed $25$ m/s, it is implied that
the uncertainty on that length is $\pm 0.5$ m/s. After all, if the true
value were anywhere in the range $(24.5 - 25.5)$, we would have
rounded the final answer to $25$ m/s. 

The numbers used to communicate the precision of a measurement are
called significant figures. The rules for tracking and reporting of
significant figures that you learn in Physics and Chemistry class are
a quick and dirty way to keep track of these uncertainties as they are
used to perform calculations.  They ensure that the implied
uncertainty in a calculated value is not wildly incongruent with the
uncertainty in the data provided.

However, using significant figures to communicate uncertainty does
have it's drawbacks.  For example, let's say that you measure the
length of a rod and determine that lies in the range $(10.5 - 10.6)$
cm.  In other words, you would report the length of the rod to be
$10.55 \pm .05$ cm.  You can't communicate this uncertainty using
significant figures.  If you report the length to be $10.5$ cm, you're
implying that the actual value is somewhere in the range of $(10.45 -
10.55)$ which isn't the correct window.  If you report the length to
be $10.55$ cm, you're implying that the value is somewhere in the
range $(10.545 - 10.555)$ cm, which is too narrow.  We use significant
figures because it's easy and it communicates an uncertainty that is
close, but not perfect.

### Precision vs. Accuracy

In science, we use two terms that often can cause confusion, since in
everyday language they tend to be synonymous. They are precision and
accuracy.  Precision is a measure of the uncertainty in a measurement.
In other words, high precision means low uncertainty and a larger
number of significant figures. Accuracy, on the other hand, means a
measurement agrees well with an accepted standard. One way to express
precision is as a fractional uncertainty:

\begin{align}
\mathrm{fractional ~ uncertainty} &=
\frac{\mathrm{uncertainty}}{\mathrm{measured ~value}}
\end{align}

Thus, fractional uncertainty is a measure of relative uncertainty, and
describes how large the uncertainty is compared to the
measurement. High precision is reflected by low fractional
uncertainty. Accuracy is often expressed as a percentage error. There
are slightly different ways of defining and using percentage error,
depending on which scientific field you are in. In this course we will
define percentage error as

$$\mathrm{\% ~error}=\frac{(\mathrm{measured~ value}) - (\mathrm{theoretical~value})}{(\mathrm{theoretical ~ value})}$$

The sign of the percentage error then has
meaning: a negative percent error means the measured value is less
than the theoretical or accepted value, and a positive percent error
means the measured value is larger then the theoretical
value. Accuracy is reflected by a low percentage error. More
specifically, if the percentage error is smaller than the fractional
uncertainty, the result is said to be accurate, meaning that the
accepted value of the measurement falls within the uncertainty of the
result you have obtained. For example, suppose we measure the
acceleration due to gravity, and find
the value $9.86 \pm .03$ m/s$^2$. The fractional uncertainty would be


$$\mathrm{fractional~ uncertainty} = \frac{0.03}{9.86} = 0.0030 = 0.3 \%$$
 while
the percentage error compared to the accepted value of $9.80$ m/s$^2$ would
be
$$\mathrm{\% ~error} = \frac{9.86 ~\mathrm{m}/\mathrm{s}^{2}-9.80~
  \mathrm{m}/\mathrm{s}^{2}}{9.80~ \mathrm{m}/\mathrm{s}^{2}} =
0.0061 = 0.61\%$$ 
In this case, we would have a high precision result
that manifests a small inaccuracy. (Note that neither the fractional
uncertainty nor the percent error carries any units.) On the other
hand, suppose our measurement of the acceleration due to gravity
resulted in the experimental value of $10 \pm 2$ m/s$^2$. In this case, we
would have a fractional uncertainty of $20\%$ and a percent error of
$2.0\%$, showing accuracy but not precision. Your goal in any
measurement should be to obtain both accuracy and precision.


### Combining Uncertainties

Often we will need to use measured values, with their associated
uncertainties, to calculate another value.  For example, let's say we
measure the dimensions of a square plate to be: $l = 10.2 \pm 0.3$ cm
and $w = 18.3 \pm 5$ cm.  Next, we calculate the area to be: 

$$A = l\times w = 10.2 \times 18.3 = 186.66 ~\mathrm{cm}^2$$.

What is the uncertainty in the area?  In other words, how does the uncertainty
in the measurements propagate through the calculation to the
uncertainty in the area?

One way to answer this question is to simply ask, ""What is the
maximum and minimum values of the area?"".  As you probably could have
guessed, the maximum possible value for the area is

$$A_\mathrm{max} = 10.5 \times 18.8 = 197.4 ~\mathrm{cm}^2$$

and the minimum possible value is
$$A_\mathrm{min} = 9.9 \times 17.8 = 176.22 ~\mathrm{cm}^2$$ .  

Therefore, the actual value of the area must be somewhere between
$176.22$ cm$^2$ and $197.4$ cm$^2$ (a range of $20$ cm$^2$) and we
could report the area as:
$$A = 187 \pm 10 \mathrm{cm}$$

The high-low method is great at illustrating how measurement errors can affect results, but should never be used in a professional setting.

#### The algebraic method (no Calculus yet!)

Using algebra, we can develop rules for combining uncertainty when 
multiplying, dividing, adding, subtracting, or raising variables to
whole number powers. These rules will cover many simple situations,
but eventually we will need to know how to estimate uncertainty for
any function as will be covered in a future lab.
For now our goal is to have a method that you can use without calculus.

| Function | Calculation     | Uncertainty Formula &nbsp; &nbsp;|
|----------|------|---------------------|
|Addition  | $z = x + y$ | $\delta z^2 = \delta x^2 + \delta y^2$|
|Subtraction  | $z = x - y$ | $\delta z^2 = \delta x^2 + \delta y^2$|
|Multiplication  | $z = xy$ | $({\delta z\over z})^2 = ({\delta x \over x})^2 + ({\delta y \over y})^2$|
|Division  | $z = {x\over y}$ | $({\delta z\over z})^2 = ({\delta x \over x})^2 + ({\delta y \over y})^2$|
|Multiply by Constant  | $z = Ax$ | $\delta z = A\delta x$|
|Powers  | $z = x^n$ | ${\delta z\over |z|} = n{\delta x \over |x|}$|


These uncertainty formulas can be used for more complex calculations by applying multiple formulas to different parts of the expression. For example, suppose you wanted to perform the following calculation:

$$ f = b + a x^2$$

where

$$b = 5.1 \pm 0.2$$
$$a = 1.8 \pm 0.1$$
$$x = 3.92 \pm 0.05$$

We can first apply the rule for addition from the table below:

$$\delta f^2 = \delta b^2 + \delta(ax^2)^2$$

$$\delta(ax^2) = a \delta(x^2) = 2 |x|a \delta x$$

Combining everthing together:

$$\delta f^2 = \delta b^2 + (2 |x|a \delta x)^2$$

```{python}
#| eval: true
#| echo: false
#| output: true
from numpy import sqrt
b = 5.1
db = 0.2
a = 1.8
da = 0.1
x = 3.92
dx = 0.05
df = sqrt(db**2+ (2 * x * a * dx)**2)
print(df)
```
In this lab you will learn the basics of uncertainty estimation and uncertainty propagation.  Occasionally, you'll be asked to show your mathematical work for a calculation. [Here](https://www.caam.rice.edu/~heinken/latex/symbols.pdf) is a reference you can use for entering math symbols.  [This](https://kapeli.com/cheat_sheets/LaTeX_Math_Symbols.docset/Contents/Resources/Documents/index) is a good one too.

## Activity I (50 points)

### Equipment:
1. Metal block and cylinder
2. Balance scale.
3. Caliper or ruler.

### Goal: 

You will be given a metal block and a metal cylinder. Both objects are made of the same material.  You will be allowed to measure the __dimensions__ and __mass__ of the **cylinder** but only the dimensions of the block.  Your goal is to accurately predict the mass of the block with its associated uncertainty.  If the true mass of the block falls within your uncertainty window, the experiment is a success. 

Important: **You cannot directly measure the mass of the block**.  The instructor will take this measurement.



### Procedure:
Carefully follow the steps below to accomplish your task
#### Calculate Density of Cylinder  (15 points)
   1. Using the caliper, measure the dimensions of the metal **cylinder**.  Enter the values and the uncertainties into the code cell provided below.
   2. (5 pts) Assign uncertainties to the measurements made in step one and record those uncertainties in the code cell provided below.
   3.  Using the mechanical balance, measure the mass of the **cylinder**. 
   4. (5 pts) Assign an uncertainty to the mass measurment and record it in the code cell given below.
   5.   Calculate the volume of the cylinder (in units of cm$^3$) in the code cell below.  
   6. (5 pts) Calculate the uncertainty in the volume of the cylinder.
   7. (5 pts) Calculate the density of the cylinder in units of g/cm$^3$. Note: $ \rho = {m \over V}$
   8. (5 pts) Calculate the uncertainty in the density of the cylinder.
   
#### Calculate the Volume of the Block  (15 points)
   1. Using the caliper, measure the dimensions of the metal **block**.  Enter the values in the code cell below.
   2. Assign uncertainties to the measurements you made and record them in the code cell below.
   3. Calculate the volume of the block (in units of cm$^3$) in the code cell below.
   4. Calculate the uncertainty in the volume of the block.
   
#### Calculate the Mass of the Block  (10 points)
   1. Calculate the mass of the block using $\rho = {m \over V}$ in units of g/cm$^3$.
   2. Calculate the uncertainty in the mass of the block.
   3. Calculate the fractional uncertainty in the mass of the block.
   
#### Compare to True Value  (10 pts) 
   1. Have the teacher or a TA measure the mass of the block to compare against your calculation. Assign the uncertainty in this measurement to be the same as when you measured the mass of the cylinder.
   2. Calculate the percentage error for your prediction.
   3. Modify the table below to include your results for this experiment. 

Conclusion: Does your calculation agree with the true value to within the stated uncertainty?

### Results

>| Quantity |Value|
>|--------|------------|
>| Density of Cylinder (with uncertainty): |__ +- __|
>| Predicted mass of block (with uncertainty): | __ +- __|
>| Actual mass of block (with uncertainty): |__ +- __|
>| Percent Error:|---|

```{python}
#| eval: false 
from pylab import *
%matplotlib inline

# Enter values for cylinder diameter, height, and mass. Give estimates of the uncertainties.
d =              # diameter of cylinder in cm
un_d =           # uncertainty of cylinder diameter in cm
h =              # height of cylinder in cm
un_h =           # uncertainty of cylinder height in cm
m =              # mass of cylinder in gm
un_m =           # uncertainty of cylinder mass in gm

# Calculate and print the density and its uncertainty
V =              # Use equations above to calculate volume of cylinder 
un_V =           # Use equation above to calculate uncertainty in volume

rho =            # Use equation above to calculate density of cylinder
un_rho =         # Use equation above to calculate uncertainty in density

print("The density of the cylinder is: {0:4.2f} +/- {1:4.2f} g/cm^3".format(rho,un_rho))
```

```{python}
#| eval: false 

# Block dimensions
l =           # length of the block in cm
un_l =        # uncertainty of the length of the block in cm
w =           # width of the block in cm
un_w =        # uncertainty of the width of the block in cm
h_b =         # height of the block in cm
un_h_b =      # uncertainty of the height of the block in cm

# Compute volume of block with uncertainty
V_b =         # Calculate volume of block
un_V_b =      # Calculate uncertainty in volume (can you figure it out from looking at the equation for the cylinder?)

# Compute predicted mass of block
m_b =         # Use previously-calculate density to calculate mass of the block
un_m_b =      #Calculate the uncertainty in the mass

print("The predicted mass of the block is: {0:3.0f} +/- {1:1.0f} g".format(m_b,un_m_b))
```

## Activity II (50 points)

### Equipment:
1. Flexible measuring tape.
2. Meter stick.  

### Goal:
Calculate the volume of this room with its associated uncertainty.  Compare your results with classmates.  


### Procedure:
  1. Using the flexible measuring tape, measure the length and width of this room.  Using the meter stick, measure the height of this room. Assign uncertainties to all of these measurements. Record your values as variable in the code cell provided below.
  2. In the code cell below, calculate the volume of the room.
  3. Calculate the uncertainty in the volume in the code cell below.
  4. Calculate the fractional uncertainty in the room as a percentage.
  5. Compare your results with the other groups in class. Enter their volumes (and yours) along with their uncertainties (and yours) on lines 5 and 6 of the code cell provided.
  6. Label your axes and put a title on your plot.  To learn how, go to [matplotlib.org](https://www.matplotlib.org) and click on the "Tutorials" tab. Either the "Usage Guide" or the "Pyplot Tutorial" will show you how to add axes labels and a title.
  7. Is your answer consistent with those of the other groups?  If not, explain why it isn't.
>**Response:**

```{python}
#| eval: false 
# Room dimensions
lr =           # length of the room in m
un_lr =        # uncertainty of the length of the room in m
wr =           # width of the room in m
un_wr =        # uncertainty of the width of the room in m
hr =           # height of the room in m
un_hr =        # uncertainty of the height of the room in m

# Compute volume of the room with uncertainty
V_r =          # Compute the volume of the room
un_V_r =       # Compute the uncertainty in the volume.

print("The volume of the room is: {0:4.1f} +/- {1:3.1f} m^3".format(V_r,un_V_r))
```

```{python}
#| eval: false 
import matplotlib.pyplot as plt
%matplotlib inline

group_num = [1,2,3,4,5,6]
volume = []  # Line 5
un_volume = []  # Line 6
ax = plt.axes()
ax.errorbar(group_num,volume,yerr = un_volume,fmt = 'go', capsize = 6)
plt.show()
```

